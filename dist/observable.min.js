/*! js-observables es5 v0.1.1 */

!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof exports)module.exports=t();else{var n=t();e.JsObserver=n.Observer,e.JsObservable=n.Observable,e.JsSubscription=n.Subscription}}(this,function(){function e(){if("undefined"!=typeof window&&window.console)return window.console;if("undefined"!=typeof self&&self.console)return self.console;if(this.console)return this.console;if("undefined"!=typeof console)return console;var e={};return e.error=e.warn=e.log=function(){},e}function t(){this.keys={},this.size=0,this.id="_$$mid"+t.count++}function n(t,r,i){if(!(t instanceof Function))throw"Invalid arguments. The 'next' function cannot be null.";if(!(this instanceof n))return new n(t,r,i);!r||r instanceof Function||(e.error("Invalid error function provided to Observer creation",this,r),r=void 0),!i||i instanceof Function||(e.error("Invalid complete function provided to Observer creation",this,i),i=void 0),this[Symbol.for("Observer.next")]=t,this[Symbol.for("Observer.error")]=r,this[Symbol.for("Observer.complete")]=i,this._isComplete=!1,this.start=this.start.bind(this),this.next=this.next.bind(this),this.error=this.error.bind(this),this.complete=this.complete.bind(this),Object.defineProperty(this,"closed",{enumerable:!0,configurable:!1,set:function(){},get:n.prototype.isClosed})}function r(t){if(!(this instanceof r))return new r(t);t instanceof Function?this[Symbol.for("Observable.subscriber")]=t:(e().warn("No Subscription Function was passed into the Observable. Therefore this Observable will do nothing.",this,t),this[Symbol.for("Observable.subscriber")]=function(){})}function i(e){if(e instanceof Function||(e=null),this instanceof i)throw"Oops. Can't instantiate Subscriptions in ES5. Use 'Subscription()' instead.";i.keys=i.keys||{size:0};var t;if("callee"==i.mode)t=new Function("return arguments.callee.unsubscribe();");else if("weakmap"==i.mode){var n="_"+i.keys.size;i.map=i.map||new WeakMap,t=new Function("return Subscription.map.get(Subscription.keys['"+n+"']).unsubscribe();"),i.map.set(i.keys[n]={},this),i.keys.size++,t[Symbol.for("Subscription.id")]=n}else t=Object.create(i.prototype);t[Symbol.for("Subscription.cleanup")]=e,t[Symbol.for("Subscription.closed")]=!1,Object.defineProperty(t,"closed",{enumerable:!0,configurable:!1,get:i.prototype.isClosed,set:function(){}})}function o(e){if(!e)return!1;if(Array.isArray(e))return e;if(Array.from){var t=Array.from(e);if(t.length)return t}var n,r=[];if(Symbol.iterator&&e[Symbol.iterator]||e["@@iterator"]){var i=(e["@@iterator"]||e[Symbol.iterator])();if(i)for(n=i.next();!n.done;n=i.next())r.push(n.value)}else{if(e.length)for(n=0;n<e.length;n++)r.push(e[n]);else if(e.size&&e.get instanceof Function)for(n=0;n<e.size;n++)r.push(e.get(n));0===r.length&&(r=null)}return r}if(!Object.create||!Object.defineProperty||!Array.isArray)throw e().error("Your Javascript version is too old. Upgrade your browser, geezer."),"Javascript version not supported.";t.count=0,t.prototype.get=function(e){return e instanceof Object&&(e=e[this.id]),this.keys[e+""]},t.prototype.set=function(e,t){e instanceof Object&&(e=e[this.id]="_"+Math.random().toString(36).substr(2,9)),this.has(e)||void 0===t||this.size++,this.keys[e+""]=t},t.prototype.has=function(e){return e instanceof Object&&(e=e[this.id]),this.keys.hasOwnProperty(e+"")},t.prototype.delete=function(e){e instanceof Object&&(e=e[this.id]);var t=this.has(e);return delete this.keys[e+""],t&&this.size--,t},t.prototype.clear=function(){this.keys={},this.size=0},"undefined"==typeof Symbol&&(Symbol=function e(t){if(this instanceof e)throw"Can't instantiate Symbol";return t&&(t+=""),{_desc:t,toString:e._toString}},Symbol._keymap={},Symbol._toString=function(){return"Symbol("+(this._desc||"")+")"},Symbol.for=function(e){return Symbol._keymap[e]||(Symbol._keymap[e]=Symbol(e),Symbol._keymap[e]._id=e),Symbol._keymap[e]},Symbol.keyFor=function(e){return e&&e._id}),n.prototype.isClosed=function(){return!!this[Symbol.for("Observer.subscription")]&&this[Symbol.for("Observer.subscription")].closed||this._isComplete},n.prototype.start=function(t){if(this[Symbol.for("Observer.subscription")]&&!this[Symbol.for("Observer.subscription")].closed)throw e().error("Invalid state. Observer is already subscribed",this,this[Symbol.for("Observer.subscription")],t),"Invalid state. Observer is already subscribed";t&&t.unsubscribe instanceof Function&&!t.closed?(this[Symbol.for("Observer.subscription")]=t,this._isComplete=!1):e().error("Invalid subscription.",this,t)},n.prototype.next=function(e){if(!this.isClosed())return this[Symbol.for("Observer.next")].call(this,e)},n.prototype.error=function(e){var t=this[Symbol.for("Observer.error")];if(!this.isClosed()&&t instanceof Function)return t.call(this,e)},n.prototype.complete=function(){if(!this.isClosed){var e=this[Symbol.for("Observer.complete")];if(e instanceof Function)var t=e.call(this);var n=Symbol.for("Observer.subscription");return this[n]&&this[n].unsubscribe(),this[n]=null,this._isComplete=!0,t}},n.to=n,Symbol.hasInstance?n[Symbol.hasInstance]=function(e){return!!e&&e.next instanceof Function}:n["@@hasInstance"]=function(e){return!!e&&e.next instanceof Function},r.prototype.subscribe=function(t,r,o){if(!t)return e().error("Observer subscription attempted, but the arguments are empty",this,t);if(t instanceof Function&&(t=new n(t,r,o)),!(t&&t.next instanceof Function))return e().error("Observer subscription attempted, but the argument was not an Observer.",this,t);var s=t,c=this[Symbol.for("Observable.subscriber")](s),u=c&&c.unsubscribe instanceof Function?c:i(c);return s.start instanceof Function&&s.start(u),u},r.of=function(e){var t=[];t.push.apply(t,arguments),(t.length>1||!(e=o(e)))&&(e=t);return new(this.prototype&&this.prototype.subscribe instanceof Function?this:r)(function(t){for(var n=0;n<e.length;n++)t.next(e[n]);t.complete instanceof Function&&t.complete()})},r.from=function(t){var n;return t&&t.subscribe instanceof Function?new r(function(e){return t.subscribe(e)}):(n=o(t))?r.of(n):void e().error("Type error. Incorrect argument type. Arguement must be an Observable or Iterable.",t)};var s=function(e){return!!e&&e.subscribe instanceof Function};Symbol.hasInstance?r[Symbol.hasInstance]=s:r["@@hasInstance"]=s,i.prototype.isClosed=function(){return this[Symbol.for("Subscription.closed")]},i.prototype.unsubscribe=function(){if(!this.isClosed()){this[Symbol.for("Subscription.closed")]=!0;var e=this[Symbol.for("Subscription.cleanup")]&&this[Symbol.for("Subscription.cleanup")]();return i.map.delete(i.keys[this[Symbol.for("Subscription.id")]]),i.keys[this[Symbol.for("Subscription.id")]]=this[Symbol.for("Subscription.cleanup")]=null,e}},i.close=function(t){if("weakmap"!=i.mode&&e.warn("A reference to the Subscription instance is not kept unless in weakmap mode. A Subscription can only be closed from a direct reference."),i.keys[t]){var n=i.map.get(i.keys[t]);n&&n.unsubscribe()}},i.mode="disable","undefined"!=typeof WeakMap&&(i.mode="weakmap"),function(){try{i.canCallee=arguments.callee&&"callee"}catch(e){}}();var c=function(e){return!!e&&e.unsubscribe instanceof Function};return Symbol.hasInstance?i[Symbol.hasInstance]=c:i["@@hasInstance"]=c,{Observer:n,Observable:r,Subscription:i}});